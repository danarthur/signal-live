@import "tailwindcss";

@theme {
  /* 1. COLOR PALETTE (OKLCH) 
     We define these as CSS variables so they can be animated 
     and used in the alpha-channel syntax (e.g., bg-obsidian/50).
  */
  --color-obsidian: oklch(0.15 0 0);       /* The Void (Not Black) */
  --color-ceramic: oklch(0.98 0 0);        /* The Ink (Not White) */
  --color-mercury: oklch(1 0 0 / 0.08);    /* The Edge (Reflective) */
  
  --color-neon-blue: oklch(0.70 0.15 250); /* The "Kiki" Signal */
  --color-neon-rose: oklch(0.65 0.20 350); /* Alert Signal */
  
  --color-glass-surface: oklch(0.20 0 0 / 0.4);
  --color-glass-highlight: oklch(1 0 0 / 0.05);

  /* Semantic aliases (OKLCH) */
  --color-ink: oklch(0.98 0 0);            /* Primary text = Ceramic */
  --color-ink-muted: oklch(0.98 0 0 / 0.6);
  --color-canvas: oklch(0.15 0 0);
  --color-silk: oklch(0.70 0.15 250);      /* Accent = Neon Blue */
  --color-walnut: oklch(0.55 0.02 60);     /* Warm secondary */

  /* SEMANTIC SIGNALS (The "Lights in the Void")
     L (0.75) and C (~0.18) locked; only H (Hue) rotates.
     Same optical weight = no painful vibration on dark.
  */
  --color-signal-success: oklch(0.75 0.18 145); /* Emerald Laser */
  --color-signal-warning: oklch(0.75 0.16 85);  /* Molten Gold */
  --color-signal-error: oklch(0.70 0.18 20);    /* Infrared Ruby */
  --color-signal-info: oklch(0.75 0.15 240);   /* Hologram Blue */

  /* SURFACE VARIANTS (Tinted Glass for badges / soft backgrounds) */
  --color-surface-success: oklch(0.25 0.1 145 / 0.2);
  --color-surface-warning: oklch(0.25 0.1 85 / 0.2);
  --color-surface-error: oklch(0.25 0.1 20 / 0.2);

  /* 2. FONTS (Next.js Geist) 
     Ensure these match your layout.tsx variable names 
  */
  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;
}

/* Legacy variables for components still using var(--…) — OKLCH-backed */
:root {
  --background: oklch(0.15 0 0);
  --foreground: oklch(0.98 0 0);
  --sidebar-bg: oklch(0.15 0 0 / 0.92);
  --glass-border: oklch(1 0 0 / 0.08);
  --glass-border-hover: oklch(1 0 0 / 0.15);
  --glass-bg: oklch(0.20 0 0 / 0.4);
  --glass-bg-hover: oklch(0.22 0 0 / 0.5);
  --glass-shadow: 0 4px 24px -1px oklch(0 0 0 / 0.2);
  --glass-shadow-hover: 0 20px 40px -4px oklch(0 0 0 / 0.4);
  --ring: oklch(0.70 0.15 250 / 0.4);
}

/* 3. BASE LAYER 
   Setting the stage for the "Post-Enterprise" environment.
*/
@layer base {
  body {
    background-color: var(--color-obsidian);
    color: var(--color-ceramic);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    
    /* The "Grain" Texture Overlay */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    background-blend-mode: overlay;
  }

  /* Headings feel "tight" and "heavy" */
  h1, h2, h3, h4 {
    letter-spacing: -0.03em; /* tracking-tight */
    font-weight: 500;
  }
}

/* 4. UTILITIES LAYER (The Physics Engine) 
   These are your "Liquid Ceramic" components.
*/
@layer utilities {
  
  /* The "Liquid Card" - The atom of your UI */
  .liquid-card {
    @apply relative overflow-hidden rounded-3xl transition-all duration-300;
    
    /* Material */
    background: var(--color-glass-surface);
    backdrop-filter: blur(24px) saturate(140%);
    
    /* Border (The Mercury Rim) */
    border: 1px solid var(--color-mercury);
    
    /* Shadow (Depth) */
    box-shadow: 
      0 4px 24px -1px oklch(0 0 0 / 0.2), 
      inset 0 1px 0 0 var(--color-glass-highlight);
  }

  /* Alias: same physics as liquid-card for panels/blades */
  .glass-panel {
    @apply relative overflow-hidden rounded-3xl transition-all duration-300;
    background: var(--color-glass-surface);
    backdrop-filter: blur(24px) saturate(140%);
    border: 1px solid var(--color-mercury);
    box-shadow: 
      0 4px 24px -1px oklch(0 0 0 / 0.2), 
      inset 0 1px 0 0 var(--color-glass-highlight);
  }
  .glass-panel:hover {
    background: oklch(0.22 0 0 / 0.5);
    border-color: oklch(1 0 0 / 0.15);
    transform: translateY(-2px) scale(1.002);
    box-shadow: 
      0 20px 40px -4px oklch(0 0 0 / 0.4),
      inset 0 1px 0 0 oklch(1 0 0 / 0.1);
  }

  /* Hover State for Interactive Cards */
  .liquid-card:hover {
    background: oklch(0.22 0 0 / 0.5);
    border-color: oklch(1 0 0 / 0.15);
    transform: translateY(-2px) scale(1.002);
    box-shadow: 
      0 20px 40px -4px oklch(0 0 0 / 0.4),
      inset 0 1px 0 0 oklch(1 0 0 / 0.1);
  }

  /* The "Neon Text" - For key metrics or active states */
  .text-neon {
    color: var(--color-neon-blue);
    text-shadow: 0 0 20px oklch(0.70 0.15 250 / 0.5);
  }
  
  /* Utility to center content in a Bento Cell */
  .bento-center {
    @apply flex flex-col items-center justify-center h-full w-full;
  }

  /* Legacy aliases: liquid-panel = same physics as liquid-card (no @apply) */
  .liquid-panel {
    @apply relative overflow-hidden rounded-3xl transition-all duration-300;
    background: var(--color-glass-surface);
    backdrop-filter: blur(24px) saturate(140%);
    border: 1px solid var(--color-mercury);
    box-shadow:
      0 4px 24px -1px oklch(0 0 0 / 0.2),
      inset 0 1px 0 0 var(--color-glass-highlight);
  }
  .liquid-panel:hover {
    background: oklch(0.22 0 0 / 0.5);
    border-color: oklch(1 0 0 / 0.15);
    transform: translateY(-2px) scale(1.002);
    box-shadow:
      0 20px 40px -4px oklch(0 0 0 / 0.4),
      inset 0 1px 0 0 oklch(1 0 0 / 0.1);
  }
  .liquid-panel-nested {
    box-shadow: 0 6px 16px -10px oklch(0 0 0 / 0.25), inset 0 1px 0 0 oklch(1 0 0 / 0.04);
  }
  .liquid-panel-hover:hover {
    background: oklch(0.22 0 0 / 0.5);
    border-color: oklch(1 0 0 / 0.15);
    transform: translateY(-2px) scale(1.002);
    box-shadow:
      0 20px 40px -4px oklch(0 0 0 / 0.4),
      inset 0 1px 0 0 oklch(1 0 0 / 0.1);
  }
  .active-glass {
    background: oklch(0.22 0 0 / 0.5);
    border-color: oklch(1 0 0 / 0.15);
    box-shadow:
      0 4px 24px -1px oklch(0 0 0 / 0.2),
      inset 0 1px 0 0 oklch(1 0 0 / 0.1);
  }
}

/* Levitation shadows (OKLCH) */
.liquid-levitation {
  box-shadow:
    0 4px 6px -1px oklch(0 0 0 / 0.08),
    0 20px 25px -5px oklch(0 0 0 / 0.15);
}
.liquid-levitation-strong {
  box-shadow:
    0 4px 6px -1px oklch(0 0 0 / 0.1),
    0 20px 25px -5px oklch(0 0 0 / 0.2),
    0 40px 50px -12px oklch(0 0 0 / 0.25);
}
.liquid-levitation-bar {
  box-shadow:
    0 -4px 6px -1px oklch(0 0 0 / 0.1),
    0 -10px 20px -5px oklch(0 0 0 / 0.15);
}

/* Ambient grain overlay (layout can use this over a fixed layer) */
.grain-overlay {
  opacity: 0.05;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}
